<<<<<<< HEAD
=======

>>>>>>> 28c6f978a4ba08bdae3bd531dac6bebf07cd4f5d
// import the necessary modules
var mongoose = require('../../lib');
var Schema = mongoose.Schema;

// create an export function to encapsulate the model creation
module.exports = function() {
  // define schema
  var PersonSchema = new Schema({
    name: String,
    age: Number,
    birthday: Date
  });

  // define a static
  PersonSchema.statics.findPersonByName = function(name, cb) {
<<<<<<< HEAD
    this.find({name: new RegExp(name, 'i')}, cb);
=======
    this.find({ name : new RegExp(name, 'i') }, cb);
>>>>>>> 28c6f978a4ba08bdae3bd531dac6bebf07cd4f5d
  };

  mongoose.model('Person', PersonSchema);
};
